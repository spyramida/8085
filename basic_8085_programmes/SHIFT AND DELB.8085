START:

INITIALIZATION:
MVI A,01H
MOV B,A
CMA
STA 3000H

READ_DIP:
LDA 2000H
ANI 07H	;3 LSB READ

MOV C,A
ANI 04H	;DIP2
JZ RIGHT

LEFT:
MOV A,C
ANI 03H	;DIP 0 & DIP1
MOV D,A	;D HOLDS NUMBER OF SHIFTS
MOV A,B
JZ NEXT

ROTATE_LEFT:
RLC
DCR D
JZ NEXT
JMP ROTATE_LEFT


RIGHT:
MOV A,C
ANI 03H	;DIP 0 & DIP1
MOV D,A	;D HOLDS NUMBER OF SHIFTS
MOV A,B
JZ NEXT

MOV A,B
ROTATE_RIGHT:
RRC
DCR D
JZ NEXT
JMP ROTATE_RIGHT

NEXT:
MOV B,A

PUSH PSW
PUSH B
LXI B,03E8H
CALL DELB
POP B
POP PSW

CMA
STA 3000H
JMP READ_DIP
END